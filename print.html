<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Crypto Wars</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li class="affix"><a href="intro.html">Intro</a></li><li><a href="a_new_club.html"><strong aria-hidden="true">1.</strong> A New Club</a></li><li><a href="eve_strikes_back.html"><strong aria-hidden="true">2.</strong> Eve Strikes Back</a></li><li><a href="return_of_the_code.html"><strong aria-hidden="true">3.</strong> Return of the Code</a></li><li class="affix"><a href="aftermath.html">Aftermath</a></li><li class="affix"><a href="glossary.html">Glossary</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Crypto Wars</h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><br></p>
<p align="center">
  <img src="crypto_wars_logo.png">
  <img src="crypto_wars_intro.png">
  <img src="crypto_wars_intro_text.png">
  <img src="galaxy.png">
</p>
<p><br><br><br></p>
<a class="header" href="#an-inconvenient-truth" id="an-inconvenient-truth"><h1>An Inconvenient Truth</h1></a>
<ul>
<li>this book is a WIP and as such is incomplete and inaccurate</li>
<li>please refer to <a href="https://burrrata.github.io/rusty_cryptoeconomics/intro.html">Rusty Cryptoeconomics</a> for the time being</li>
</ul>
<p><br><br><br></p>
<a class="header" href="#a-hrefa_new_clubhtmla-new-cluba" id="a-hrefa_new_clubhtmla-new-cluba"><h2><a href="a_new_club.html">A New Club</a></h2></a>
<p>Alice and Bob build a treehouse. Like anyone with a treehouse they started a secret club! Eve wants to unmask their passphrase though so they create an elaborate code to keep it secret.</p>
<p><br></p>
<a class="header" href="#a-hrefeve_strikes_backhtmleve-strikes-backa" id="a-hrefeve_strikes_backhtmleve-strikes-backa"><h2><a href="eve_strikes_back.html">Eve Strikes Back</a></h2></a>
<p>Eve uses cryptanalysis to unscramble the messages and decrypt Alice and Bob's codes and passphrase. Everyone knows and the club is in shambles! What to do?!</p>
<p><br></p>
<a class="header" href="#a-hrefreturn_of_the_codehtmlreturn-of-the-codea" id="a-hrefreturn_of_the_codehtmlreturn-of-the-codea"><h2><a href="return_of_the_code.html">Return of the Code</a></h2></a>
<p>Thrwarted by Eve, Alice and Bob hunker down in the playground and come up with new ideas, and find new hope. Will they finally be able to create thier club? Will this become even more useful than they thought?! We will find out...</p>
<p><br><br><br></p>
<p align="center">
    <img src="a_new_club_logo.png">
</p>
<a class="header" href="#aka-publicprivate-key-crypto-what-is-it-and-why-should-you-care" id="aka-publicprivate-key-crypto-what-is-it-and-why-should-you-care"><h2>AKA Public/Private Key Crypto: What is it and why should you care?</h2></a>
<p>Back in the day, for most of human history, if someone wanted to communicate securely they had to either be in the same place at the same time, or use a shared secret code to encrypt and decrypt messages. This was problematic because in order to agree on and share a secret code you had first meet in person, and then if you changed your mind or someone broke your code you'd have to meet up again to agree to a new scheme. Not practical in a 24/7 globally connected digital world. Fortunately for us, a few guys named <a href="https://en.wikipedia.org/wiki/Ralph_Merkle">Merkle</a>, <a href="https://en.wikipedia.org/wiki/Whitfield_Diffie">Diffie</a>, and <a href="https://en.wikipedia.org/wiki/Martin_Hellman">Hellman</a> came up with some <a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">pretty cool ideas</a> on how to securely share private data over public networks.</p>
<a class="header" href="#coincidentally-our-friends-alice-and-bob-are-working-through-this-right-now" id="coincidentally-our-friends-alice-and-bob-are-working-through-this-right-now"><h3>Coincidentally, our friends Alice and Bob are working through this right now...</h3></a>
<p align="center">
    <img src="https://i.huffpost.com/gen/804469/images/o-COOL-TREEHOUSE-DESIGNS-facebook.jpg">
</p>
<p>Alice and Bob built a treeshouse. Like anyone with a treehouse, they started a secret club. Like every secret club, there needs to be a secret way to prove that you're part of the secret club. Normally there would just be a cool passphrase or knock that you would yell to have the rope thrown down, but... this means that anyone nearby could learn their secret code! This wouldn't be that big of a deal, but there's this chick named Eve who believes that the world should have no secrets, and especially no secret clubs. Why? We'll never know, but she's always watching... and whenever she learns anything she posts it on the school bulletin board for everyone to know. Now Timmy has a daily panic attack when people put bugs in his desk and Sarah has to wear ear plugs incase anyone utters a palindrome, and they often do. Needless to say, if everyone knew the clubs secret code it would be a disaster ¬Ø\<em>(„ÉÑ)</em>/¬Ø</p>
<a class="header" href="#what-to-do" id="what-to-do"><h3>What to do?</h3></a>
<p>Alice and Bob come up with a plan... First they thought about using <a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">secret colors</a> because that seems to be <a href="https://www.youtube.com/watch?v=NmM9HA2MQGI">what everyone else is doing</a>, but when they tried it everything just turned brown. This meant anyone could just mix all the colors together to produce brown without actually knowing Alice and Bob's secret colors! Not cool, and besides, who wants to live in a world where everything's brown? Requiring a practical solution, Alice and Bob press on, and on one dismal afternoon, while staring at the clock, waiting, for school, to be over... they get an idea! A big one! What if instead of using colors, they used numbers, but instead of using any random numbers, they used numbers that wrap around <a href="https://www.youtube.com/watch?v=Yjrfm_oRO0w">like a clock does</a>?</p>
<p align="center">
    <img src="https://theproducersmiami.com/wp-content/uploads/2017/10/fascinating-24-inch-clock-24-inch-atomic-wall-clock-black-and-white-clock.jpg"
</p>
<a class="header" href="#how-would-this-help-alice-and-bob-securely-share-the-secret-passphrase-without-eve-knowing" id="how-would-this-help-alice-and-bob-securely-share-the-secret-passphrase-without-eve-knowing"><h3>How would this help Alice and Bob securely share the secret passphrase without Eve knowing?!</h3></a>
<p><code>TODO: explain [primitive root modulo](https://en.wikipedia.org/wiki/Primitive_root_modulo_n) stuff linking 5 to 23</code></p>
<p>First, the club gets a number. After much consideration Alice and Bob decide that the number shall be 5, and 5 shall be the number. They tell everyone. 5 club is lit af. Everyone wants in, esp Eve...</p>
<p>Then, the club gets a secret passphrase. At first only Alice and Bob know it, but as well all know, 5 club is lit af so soon more people join. They all know the passphrase, but they can't say it out loud because Eve could be anywhere anytime, always watching... This is truly annoying.</p>
<p>To get around this unfortunate dilema, Alice and Bob create a number system where, like clocks, the numbers wrap around if you go past the maximum number. In this case we're using a 24hrs clock that wraps around after 23.</p>
<p>Also, everyone who's part of the club has a secret number. In fact, the club itself even has a secret number. These numbers are so secret that no one knows what they are or might be. They are truly random and unknown. They could be anything...</p>
<p>Everyone, including the club, also has a public number. These are kind of like an address and everyone knows what these are. How do we create these public numbers in a way that connects them to the private numbers? Well it's easy, just multiply the club's number by it's self (exponentiation) as many times as a person's secret number, but wrap around everytime they go past 23 (like on a clock). For example: if Jim's secret number is 4, then Jim would multiple the club's public number 4 times (5 * 5 * 5 * 5), but would wrap around everytime the value was higher than 23. The symbol for this is %, and the mathematical term is the <a href="https://en.wikipedia.org/wiki/Modulo_operation">modulo operation</a>.</p>
<a class="header" href="#try-it-out-for-yourself" id="try-it-out-for-yourself"><h3>Try it out for yourself!</h3></a>
<pre><pre class="playpen"><code class="language-rust editable">
fn main() {
    
    let modulo = 23;
    let club_public_number = 5;
    let jim_secret_number = 4; // 4
    
    // (b**p) % m
    // function to perform exponential modulo artithmetic 
    // because rust doesn't perform modulo operations 
    // inbetween the exponential multiplication like python does
    // and this leads to very large numbers that overflow 
    fn exp_mod(b: i32,
               p: i32,
               m: i32) -&gt; i32 {
        
        let mut out = (b * b) % m;
        //println!(&quot;0: {}&quot;, out);
        for i in 1..p-1 { //because the first iter of out took 2 off the base
            out = (out * b) % m;
            //println!(&quot;{}: {}&quot;, i, out);
        }
        out
    }
    
    // What's Jim's public number?
    let jim_public_number = exp_mod(club_public_number, jim_secret_number, modulo);
    println!(&quot;Jim's public number is: {}&quot;, jim_public_number);

    // let's check for other numbers that could have also created that same public number
    for i in 0..1000 {
        let alt_public_number = exp_mod(club_public_number, i, modulo);
        if alt_public_number == jim_secret_number {
            println!(&quot;alt secret number: {}&quot;, i);
        }
    }
    
}
</code></pre></pre>
<p>Now Jim has a public number (4), but no one knows what number was multiplied around the clock to get there. Could be 5**4, could be 5**26, could be 5**136, or many others...</p>
<a class="header" href="#good-for-jim-but-how-does-this-help-alice-and-bob-with-their-club" id="good-for-jim-but-how-does-this-help-alice-and-bob-with-their-club"><h3>Good for Jim, but how does this help Alice and Bob with their club?</h3></a>
<p>Good question. The way to check that Jim is part of the club is to do a few things:</p>
<ul>
<li>Jim multiplies the club's public number times itself as many times as his secret number</li>
<li>Whoever is in the club multiplies Jim's public number times itself as many times as the club secret number</li>
<li>They then write each number down on a piece paper, fold the papers into airplanes, and throw them at each other. Now both Jim and the people in the club have a shared secret that no one else knows that they can use to scramble and unscramble the secret passphrase!</li>
<li>Jim scrambles every letter in the passphrase forward by the shared secret number.</li>
<li>Jim then proceeds to yell that new series of letters out loud.</li>
<li>Whoever is in the club writes down those letters, then shifts them backwards by the amount of the shared secret number.</li>
<li>If it reveals the passphrase, Jim is in!</li>
<li>Also, even though Eve is creeping in the bushes nearby, everyone who yells a scrambled passphrase to get in yells a different one because it's scrambled based on their unique numbers!</li>
<li>Eve tries again and again to yell random passphrases but it doesn't work. Horray!</li>
</ul>
<a class="header" href="#lets-try-it-out" id="lets-try-it-out"><h3>Let's try it out!</h3></a>
<pre><pre class="playpen"><code class="language-rust editable">// Notes 
// - You can push the triangular shaped play button in the top right of this frame to run the code as is.
// - You can also edit this code however you want! It's a live Rust Playground so change stuff, experiment, and just push the triangle when you're ready to see what happens. Hint: you can change the player's secret numbers to any numbers and it should all still work. Beyond that though, you're on your own. Boldly go where you have not gone before! :) 

fn main() {
    
    
    // Club Parameters
    let passphrase_as_string = &quot;thepasswordispassword&quot;;
    let passphrase = vec![&quot;t&quot;, &quot;h&quot;, &quot;e&quot;, &quot;p&quot;, &quot;a&quot;, &quot;s&quot;, &quot;s&quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;d&quot;, &quot;i&quot;, &quot;s&quot;, &quot;p&quot;, &quot;a&quot;, &quot;s&quot;, &quot;s&quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;d&quot;];
    let passphrase_test = vec![&quot;t&quot;, &quot;h&quot;, &quot;e&quot;, &quot;p&quot;, &quot;a&quot;, &quot;s&quot;, &quot;s&quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;d&quot;, &quot;i&quot;, &quot;s&quot;, &quot;p&quot;, &quot;a&quot;, &quot;s&quot;, &quot;s&quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;d&quot;];
    let modulo = 23;
    let club_base_number = 5;
    
    
    // (b**p) % m
    // b = base, p = private, m = modulo
    fn exp_mod(b: i32,
               pk: i32,
               m: i32) -&gt; i32 {
        // b = base
        // pk = private key
        // m = modulo
        
        let mut out = (b * b) % m;
        //println!(&quot;0: {}&quot;, out);
        for i in 1..pk-1 { //because the first iter of out took 2 off the base
            out = (out * b) % m;
            //println!(&quot;{}: {}&quot;, i, out);
        }
        out
    }
    
    
    // Jim's Numbers
    let jim_secret_number = 4;
    let jim_public_number = exp_mod(club_base_number, jim_secret_number, modulo); // 4
    // The Club's Numbers
    let club_secret_number = 98;
    let club_public_number = exp_mod(club_base_number, club_secret_number, modulo); // 9
    
    
    // Let's create a secret key between Jim and The Club
    let jim_auth_number = exp_mod(club_public_number, jim_secret_number, modulo); // 6
    let club_jim_auth_number = exp_mod(jim_public_number, club_secret_number, modulo); // 6
    assert_eq!(jim_auth_number, club_jim_auth_number);


    // Now let's scramble the passphrase in a way that only the people in the club can unscramble!
    fn scramble(p: Vec&lt;&amp;str&gt;,
                k: i32) -&gt; (String, Vec&lt;&amp;str&gt;) {
        
        // p = passphrase
        // k = key
    
        let a = vec![&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;];
        let key = k as usize;
        let mut scrambled_vec = Vec::new();
        
        for i in p {
            for j in 0..a.len() {
                if i == a[j] {
                    let alpha_index = j;
                    let scrambled_letter = (alpha_index + key) % 26;
                    scrambled_vec.push(a[scrambled_letter])
                }
            }
        }
        
        let mut scrambled_str = String::new();
        let sc = scrambled_vec.clone();
        for i in sc {
            scrambled_str.push_str(i);
        }
        
        (scrambled_str, scrambled_vec)
    }
    let (scrambled_passphrase_str, scrambled_passphrase_vec) = scramble(passphrase, jim_auth_number);
    
    // Eve is always watching...
    //let evesdropped_scrambled_passphrase = scrambled_passphrase_vec.clone(); // rust type `std::vec::Vec&lt;&amp;str&gt;`, which does not implement the `Copy` trait
    let mut evesdropped_scrambled_passphrase = Vec::new();
    for i in scrambled_passphrase_vec.clone() {
        evesdropped_scrambled_passphrase.push(i);
    }
    
    
    // But can the Secret Club unscramble the passphrase?
    fn unscramble(p: Vec&lt;&amp;str&gt;,
                  k: i32) -&gt; (String, Vec&lt;&amp;str&gt;) {
                  
        // p = passphrase
        // k = key

        let a = vec![&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;];
        let key = k as usize;
        let mut unscrambled_vec = Vec::new();
        
        for i in p {
            for j in 0..a.len() {
                if i == a[j] {
                    let alpha_index = j;
                    let unscrambled_letter = (26 + alpha_index - key) % 26;
                    unscrambled_vec.push(a[unscrambled_letter])
                }
            }
        }
        
        let mut unscrambled_str = String::new();
        let usc = unscrambled_vec.clone();
        for i in usc {
            unscrambled_str.push_str(i);
        }
        
        (unscrambled_str, unscrambled_vec)
    }    
    let (unscrambled_passphrase_str, unscrambled_passphrase_vec) = unscramble(scrambled_passphrase_vec, club_jim_auth_number);
    
    
    // Did it work?
    assert_eq!(unscrambled_passphrase_vec, passphrase_test);
    println!(&quot;original passphrase: {:?}&quot;, passphrase_as_string);
    println!(&quot;scrambled passphrase: {:?}&quot;, scrambled_passphrase_str);
    println!(&quot;unscrambled passphrase: {:?}&quot;, unscrambled_passphrase_str);

}
</code></pre></pre>
<p><br></p>
<p>Now you're probably wondering: &quot;Isn't that a bit convoluted? I mean they could just have a list of people's names and then look out the window and see if that person is the person on the list!&quot; They <strong>could</strong>, but what about on Halloween when everyone's wearing costumes, or at night when it's dark, or during they day when they're bored? These are the questions that keep me up at night, and apparently Alice and Bob feel the same way. Now they can have their secret club with secret numbers and all Eve knows is that whenever she tries to guess the passphrase by saying random numbers it doesn't work. Yay!</p>
<p><br></p>
<p align="center">
    <img src="https://proxy.duckduckgo.com/iu/?u=https%3A%2F%2Fwallpaperbrowse.com%2Fmedia%2Fimages%2Fcelebrate.jpg&f=1">
</p>
<p><br></p>
<p>Everyone celebrates and lives happily ever after, or do they... While Alice and Bob are celebrating their new club, Eve is hard at work learning the dark art of cryptanalysis. What will she learn? How will she use it?</p>
<a class="header" href="#find-out-in-part-2-a-hrefhttpsgithubcomburrratathe_cryptoeconomics_cookbookblobmastersrceve_strikes_backmdeve-strikes-backa" id="find-out-in-part-2-a-hrefhttpsgithubcomburrratathe_cryptoeconomics_cookbookblobmastersrceve_strikes_backmdeve-strikes-backa"><h3>Find out in part 2: <a href="https://github.com/burrrata/the_cryptoeconomics_cookbook/blob/master/src/eve_strikes_back.md">Eve Strikes Back!</a></h3></a>
<p><br></p>
<a class="header" href="#recommend-research-resources" id="recommend-research-resources"><h2>Recommend Research Resources</h2></a>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Modulo_operation">Wikipedia: modulo operation</a></li>
<li><a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">Wikipedia: diffie hellman</a></li>
<li><a href="https://www.youtube.com/watch?v=NmM9HA2MQGI">Computerphile: diffie hellman with colors</a></li>
<li><a href="https://www.youtube.com/watch?v=Yjrfm_oRO0w">Computerphile: diffie hellman with modulo operations</a></li>
<li><a href="https://play.rust-lang.org/">The Rust Playground</a></li>
</ul>
<p>Rust code that follows along with the <a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">diffie hellman wikipedia article</a>. Feel free to edit and play around with it here, or copypasta into the <a href="https://play.rust-lang.org/">Rust Playground</a></p>
<pre><pre class="playpen"><code class="language-rust editable">// TODO: add an explanation for primitive Root Modulo Stuff
// - the base is a primitive root modulo
// - this is not explained, thus this is not an end-to-end tutorial
// - how do we explain this simply?

fn main() {
 
    // Alice and Bob's Agreed Upon Parameters
    let base = 5;
    let modulus = 23;

    // Alice and Bob's Private Keys
    let a_private = 4;
    let b_private = 3;
    
    // Function to perform exponential modulo artithmetic 
    // because rust makes exponential multiplication with 
    // i32 a real bother
    // (b**p) % m
    fn exp_mod(b: i32,
               p: i32,
               m: i32) -&gt; i32 {
        
        let mut out = (b * b) % m;
        //println!(&quot;0: {}&quot;, out);
        for i in 1..p-1 { //because the first iter of out took 2 off the base
            out = (out * b) % m;
            //println!(&quot;{}: {}&quot;, i, out);
        }
        out
    }
    
    // Alice and Bob's Public Keys
    let a_public = exp_mod(base, a_private, modulus);    
    let b_public = exp_mod(base, b_private, modulus);

    // Let's Check To See If It Worked!
    let to_a_from_b = exp_mod(b_public, a_private, modulus);
    let to_b_from_a = exp_mod(a_public, b_private, modulus);
    assert_eq!(to_a_from_b, to_b_from_a);
    //println!(&quot;to_a_from_b: {}&quot;, to_a_from_b);
    //println!(&quot;to_b_from_a: {}&quot;, to_b_from_a);
    
}
</code></pre></pre>
<p><br></p>
<hr>
<p><br></p>
<a class="header" href="#todos" id="todos"><h2>TODOS</h2></a>
<ul>
<li>Explain <a href="https://en.wikipedia.org/wiki/Primitive_root_modulo_n">primitive root modulo</a> stuff linking 5 to 23</li>
<li>Incorporate the Secrecy Chart explanation from the <a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">wikipedia article</a> (and the actual chart) into the storyline to further clarify why this theoretically works as well as to create a more analytical reference point when we want to break and then strengthen/extend it with stronger primes.</li>
<li>Once the story line is solidified and all the concepts are in place, THEN clean up the spaghetti code and add comments that bridge the storyline (english) to the working example (code).</li>
</ul>
<a class="header" href="#ux-todos" id="ux-todos"><h2>UX TODOS</h2></a>
<ul>
<li>It would be great to incorporate the concept of public keys as addresses that people can send mail to, but only the person who owns the address (controls the key) can open the mailbox. (good because addresses for houses/mailbox and keys to access said houses/mailboxes are concepts people already understand.)</li>
<li>Would it be good to recreate the &quot;<a href="https://github.com/cryptoeconomics-study/website/blob/master/book/chapter-01.md#the-math-y-explanation">Math-y Explanation</a>&quot; using arbitrary variables to get the general concept down, and then apply it to Jim, and then apply that to A&amp;B?</li>
<li>Is it confusing that Jim's public number is the same as his private number, even though the modulo stuff is explained and demonstrated?</li>
<li>Make sure that there are no trailing references to the Club Public Number when it should be the Club Base Number which is 5.</li>
<li>To minimize vocabulary juggling and manitain relevance in the context of public private key crypto, search and replace:
<ul>
<li>number =&gt; key</li>
<li>secret =&gt; private</li>
</ul>
</li>
<li>Would it be easier for people to read/engage with the code if we used strings and chars instead of Vecs? (the passphrases would be easier to work with and it would work better for APIs or CLI applications, but the functions would be convoluted af) (a little verbose, but maybe we could use strings and make the functions convert the strings to Vecs and back again within the function?)</li>
</ul>
<p align="center">
    <img src="eve_strikes_back_logo.png">
</p>
<p><br></p>
<a class="header" href="#overall-theme--main-takeaway" id="overall-theme--main-takeaway"><h2>Overall Theme / Main Takeaway</h2></a>
<ul>
<li>don't roll your own crypto like Alice and Bob did üëç</li>
</ul>
<p><br></p>
<a class="header" href="#concepts-to-cover" id="concepts-to-cover"><h2>Concepts To Cover</h2></a>
<ul>
<li>explain how it is NOT ideal for multiple private keys to correlate to the same public key (collision!) and show ways that Eve can exploit this! Then lead into how Alice and Bob might remedy that situation with larger primes and a better scrambling funciton.</li>
<li>man in the middle attacks =&gt; spoofing, rerouting, or crypanalysis of scrambled messages</li>
<li>rate limiting to prevent online brute force attacks (does not prevent captured messages via MIM attacks and offline hash cracking via rainbow tables or hashcat)</li>
<li>randomness (Alice and Bob use the same keys every time, so Eve can perform cryptanalysis)</li>
<li>things that are hard to guess for humans vs computers (demo a brute force cracking attack) (stretch goal: a social engineered cracking attack based on Alice and Bob's favorite things)</li>
<li>social engineering via publicly available security questions</li>
<li>Hash Collisions: yet another way Eve can pretend to be someone else and mess with A&amp;B's club</li>
</ul>
<a class="header" href="#concepts-to-hint-at" id="concepts-to-hint-at"><h2>Concepts To Hint At</h2></a>
<ul>
<li>(2/3) Content Addressing: digital files be easily tampered with... so how do we sign things digitally while preserving all the characteristics that make a signature a signature? Content addressing! (not sure if this is relevant yet as Alice and Bob aren't using software yet, but maybe hint at it here and then have A&amp;B impliment it in part3?) (would it be accurate/relevant to also say that using a compiled language like Rust allows for you to verify the authenticity/security of code before running it, whereas JS and Python run in real time and thus can call weird things on the fly?)</li>
<li>(intro/all) Goals Of Cryptography:
<ul>
<li>Integrity: The message I send will arrive at its intended destination intact and unchanged.</li>
<li>Authenticity: I can ascertain that the sender and the recipient of the message are the correct ones.</li>
<li>Non-repudiation: An event that has taken place cannot be denied.</li>
<li>Confidentiality: That which is intended to be private will be kept private.</li>
</ul>
</li>
<li>(2/3) Trapdoors: Functions that are easy to compute but difficult to invert are called one way functions. A subset of one way functions are trapdoor functions - the only difference being that trapdoor functions can be inverted as long as you have some special secret k. (What if we had Eve pretend to help A&amp;B, but really she was offering them tricky software that her friend Mal created that has a trapdoor in it?)</li>
<li>(3) Cryptographic hash function:
<ul>
<li>Collision resistant: Given two inputs a and b, it is computationally expensive to find H(a) = H(b)</li>
<li>Preimage resistant: Given only the output of H(a), it is computationally infeasible to find a. Brute forcing (guessing every possible input) should be the only way to find it, which is expensive</li>
<li>Second-preimage resistant: Given a, one cannot find b such that H(a) = H(b).</li>
</ul>
</li>
<li>(3) Hashes As Commitments: how can this example be incorporated into the story?
<ul>
<li>A writer who wants to copyright their manuscript on a certain date can publish a hash of their manuscript to the blockchain, where it gets timestamped. Should there be any dispute over the manuscript in the future, it would be very easy to verify whether the manuscript was hashed and signed on a certain day. It is also important to note that simply changing one letter in the manuscript, or even one bit in the input, should change a large portion of the bits in the output. Hash functions are mainly used for securing the integrity of information and thus also can act as unique identifiers. Since hash functions are deterministic, they are able to prove that certain pieces of information have not been tampered with. If information is tampered with, it will produce a different hash to the original version.</li>
</ul>
</li>
<li>(2/3) Lamport Signatures: further emphasizes the concept of public keys as addresses and private keys as access, but furthers it by using it to prove things more like an account can post stuff on apps and social networks.
<ul>
<li>For Person A to sign a document, a hash value is produced from that document using a hash function. Person A uses the encryption key, which is kept hidden, to encrypt the hash value of the document to produce a cipher-text: E(H). For Digital Signing Algorithms (DSA), the encryption key is the private key that is kept a secret and the decryption key is the public key that is published into the open. Person A publishes the document and along with the E(H). Anyone can verify that person A has signed the document by hashing the document and then using Person A‚Äôs trusted and published decryption key to decrypt the cipher-text E(H) to produce the same hash of the document. If the document hashes match, then the signature is valid.</li>
<li>It would be really great to create a code example for this because as is it's a solid example, but a little handwavey on the details. &quot;You can think of the decryption of the right hash as the signature itself. The successful decryption is proof it is never exposed but rather the key used for encryption. The uniquely transformed cipher-text is proof of signature.&quot; &lt;= like wtf does that even mean? An example would clarify it immensely :)</li>
</ul>
</li>
</ul>
<p><br></p>
<a class="header" href="#story-arc" id="story-arc"><h2>Story Arc</h2></a>
<a class="header" href="#keep-your-friends-close-and-your-enemies-closer" id="keep-your-friends-close-and-your-enemies-closer"><h3>Keep your friends close and your enemies closer.</h3></a>
<a class="header" href="#p1-a-blessing-in-disguise" id="p1-a-blessing-in-disguise"><h3>P1) A Blessing In Disguise...</h3></a>
<ul>
<li>Eve learns the dark arts of cryptanalysis and social engineering (HOW? She was traveling and one of her bags was lost for months. She needed to get back into her accounts but had no way to access the passwords and codes that were securely stored in her checked bag. Desperate, she tried everything and, with the help of her friend Mal, learned how to break into her own accounts. Thinking it through, she wondered if the same tactics could help her infultrate Alice and Bob's now super popular club?). Meanwhile Alice and Bob are enjoying their club so much that they get tired of doing all the work of checking and doing the protocol they implimented. Since Eve hasn't attacked in a while anyways, they oursource verification to Alice's little brother in exchange for a chocolate bar every other friday. Alice's mom is a strict vegan health nut so this is a big deal for her little brother.</li>
</ul>
<a class="header" href="#p2-the-final-attack" id="p2-the-final-attack"><h3>P2) The Final Attack!</h3></a>
<ul>
<li>Eve completely <a href="https://proxy.duckduckgo.com/iu/?u=http%3A%2F%2Fa.abcnews.com%2Fimages%2FUS%2F160112_vod_orig_ice%2520_mixdown_16x9_992.jpg&amp;f=1">pwns</a> Alice and Bob in various ways: first intercepting messages and using brute force attacks and cryptanalysis to uncover the secret messages (Alice's little brother was only told to follow the protocol, so Eve can just hangout and try guess after guess with no penalties lol), then by sending false information between club memeber to create drama and upset, and then by bribing Alice's little brother with a Snickers bar to give her access to the secret master keys.</li>
</ul>
<a class="header" href="#p3-free-at-last" id="p3-free-at-last"><h3>P3) Free At Last?</h3></a>
<ul>
<li>Alice and Bob are forced to abandon the treehouse because it becomes untenable and overrun with field trips from CS schools warning students of the perrils of rolling your own crypto. They've think they've lost everything, but they still have each other.</li>
</ul>
<p><br></p>
<hr>
<p><br></p>
<p>Beginnings of code building on previous concepts in part 1, and expanding to impliment Eve's various attacks :)</p>
<pre><pre class="playpen"><code class="language-rust editable">// PART 2: Eve Strikes Back!

// TODOS
    // it would be great to include a framework for people
    // to try being Eve and attempting random values and see 
    // if they work or not
    // 
    // then create a game (with larger primes) where the secret
    // numbers are chosen randomly you have to prove that you
    // know the secret number to get into the club (thus
    // showing how it's easy to prove if you're in the club
    // but much harder to break if you're not in the club)
    // 
    // then link to a real dh library in rust that explains
    // how to use it in practice and provides secure code



fn main() {
    
    // USEFUL FUNCTIONS
    
    // (b**p) % m
    // b = base, p = private, m = modulo
    fn exp_mod(b: i32,
               pk: i32,
               m: i32) -&gt; i32 {
        // b = base
        // pk = private key
        // m = modulo
        
        let mut out = (b * b) % m;
        //println!(&quot;0: {}&quot;, out);
        for i in 1..pk-1 { //because the first iter of out took 2 off the base
            out = (out * b) % m;
            //println!(&quot;{}: {}&quot;, i, out);
        }
        out
    }
    
    // scrambles a vector of strings based on an input key
    fn scramble(p: Vec&lt;&amp;str&gt;,
                k: i32) -&gt; (String, Vec&lt;&amp;str&gt;) {
        
        // p = passphrase
        // k = key
    
        let a = vec![&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;];
        let key = k as usize;
        let mut scrambled_vec = Vec::new();
        
        for i in p {
            for j in 0..a.len() {
                if i == a[j] {
                    let alpha_index = j;
                    let scrambled_letter = (alpha_index + key) % 26;
                    scrambled_vec.push(a[scrambled_letter])
                }
            }
        }
        
        let mut scrambled_str = String::new();
        let sc = scrambled_vec.clone();
        for i in sc {
            scrambled_str.push_str(i);
        }
        
        (scrambled_str, scrambled_vec)
    }   

    // undoes the effect of the scramble() function
    fn unscramble(p: Vec&lt;&amp;str&gt;,
                  k: i32) -&gt; (String, Vec&lt;&amp;str&gt;) {
                  
        // p = passphrase
        // k = key

        let a = vec![&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;];
        let key = k as usize;
        let mut unscrambled_vec = Vec::new();
        
        for i in p {
            for j in 0..a.len() {
                if i == a[j] {
                    let alpha_index = j;
                    let unscrambled_letter = (26 + alpha_index - key) % 26;
                    unscrambled_vec.push(a[unscrambled_letter])
                }
            }
        }
        
        let mut unscrambled_str = String::new();
        let usc = unscrambled_vec.clone();
        for i in usc {
            unscrambled_str.push_str(i);
        }
        
        (unscrambled_str, unscrambled_vec)
    }
    

    
    // DATA
    
    // Club Parameters
    let passphrase = vec![&quot;t&quot;, &quot;h&quot;, &quot;e&quot;, &quot;p&quot;, &quot;a&quot;, &quot;s&quot;, &quot;s&quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;d&quot;, &quot;i&quot;, &quot;s&quot;, &quot;p&quot;, &quot;a&quot;, &quot;s&quot;, &quot;s&quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;d&quot;];
    let passphrase_test = vec![&quot;t&quot;, &quot;h&quot;, &quot;e&quot;, &quot;p&quot;, &quot;a&quot;, &quot;s&quot;, &quot;s&quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;d&quot;, &quot;i&quot;, &quot;s&quot;, &quot;p&quot;, &quot;a&quot;, &quot;s&quot;, &quot;s&quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;d&quot;];
    let modulo = 23;
    let club_base_number = 5;
    
    // Jim's Numbers
    let jim_secret_number = 4;
    let jim_public_number = exp_mod(club_base_number, jim_secret_number, modulo); // 4
    // The Club's Numbers
    let club_secret_number = 98;
    let club_public_number = exp_mod(club_base_number, club_secret_number, modulo); // 9
    
    
    // Let's create a secret key between Jim and The Club
    let jim_auth_number = exp_mod(club_public_number, jim_secret_number, modulo); // 6
    let club_jim_auth_number = exp_mod(jim_public_number, club_secret_number, modulo); // 6
    assert_eq!(jim_auth_number, club_jim_auth_number);

    // Jim's message
    let (scrambled_passphrase_str, scrambled_passphrase_vec) = scramble(passphrase, jim_auth_number);
    
    // Eve is always watching...
    //let evesdropped_scrambled_passphrase = scrambled_passphrase_vec.clone(); // rust type `std::vec::Vec&lt;&amp;str&gt;`, which does not implement the `Copy` trait
    let mut evesdropped_scrambled_passphrase = Vec::new();
    for i in scrambled_passphrase_vec.clone() {
        evesdropped_scrambled_passphrase.push(i);
    }
    println!(&quot;Evesdropped scrambled passphrase: {:?}&quot;, evesdropped_scrambled_passphrase);
    
    
    // Jim again
    let (unscrambled_passphrase_str, unscrambled_passphrase_vec) = unscramble(scrambled_passphrase_vec, club_jim_auth_number);
    
    // Did it work?
    assert_eq!(unscrambled_passphrase_vec, passphrase_test);
    println!(&quot;original passphrase: {:?}&quot;, passphrase_test);
    println!(&quot;scrambled passphrase: {:?}&quot;, scrambled_passphrase_str);
    println!(&quot;unscrambled passphrase: {:?}&quot;, unscrambled_passphrase_str);
    

    
    // But wait! 
    // What if Eve hears someone saying a scrambled passphrase
    // and then tries to use someone else's public key to unscramble it?
    // Or what it Eve tries to pretend she's someone else using their public key?
    let eve_public_number = jim_public_number.clone(); // 4
    // But wait... Even with Jim's Public Key, how many times does Eve need to 
    // multiply the Club Number by itself to find the secret key shared between Jim and The Club?
    //let eve_secret_number = &quot;?&quot;;
    //let eve_auth_number = exp_mod(club_public_number, eve_secret_number, modulo);
    
    // Looks like Eve will have to guess
    for i in 0..23 {
        let eve_secret_number = i;
        let eve_auth_number = exp_mod(club_public_number, eve_secret_number, modulo);
        let (eve_unscrambled_passphrase_str, eve_unscrambled_passphrase_vec) = unscramble(evesdropped_scrambled_passphrase.clone(), eve_auth_number);
        if eve_unscrambled_passphrase_vec == passphrase_test {
            println!(&quot;Eve broke the code!&quot;);
            println!(&quot;Secret Passphrase: {:?}&quot;, eve_unscrambled_passphrase_str);
            println!(&quot;Secret Key: {:?}&quot;, eve_auth_number);
        }
    }
    
    // Looks like Eve is going to have to resort to social engineering to trick
    // the club bouncer into thinking that her made up public key is legit
    let eve_private_number = 45;
    let eve_public_number = exp_mod(club_base_number, eve_private_number, modulo); // 5
    let club_eve_auth_number = exp_mod(eve_public_number, club_secret_number, modulo); // 9

}
</code></pre></pre>
<a class="header" href="#resources--research" id="resources--research"><h2>Resources &amp; Research</h2></a>
<p>Most ideas taken from here and applied to a storyline:</p>
<ul>
<li>https://github.com/cryptoeconomics-study/website/blob/master/book/chapter-01.md</li>
</ul>
<p>Cryptographic Hash Functions</p>
<ul>
<li>wiki: https://en.wikipedia.org/wiki/Cryptographic_hash_function</li>
</ul>
<p align="center">
  <img src="return_of_the_code_logo.png">
</p>
<p><br></p>
<a class="header" href="#overall-theme--main-takeaway-1" id="overall-theme--main-takeaway-1"><h2>Overall Theme / Main Takeaway</h2></a>
<ul>
<li>learn from best practices and use established and audited protocols and libraries when dealing with sensitive and valuable data.</li>
</ul>
<p><br></p>
<a class="header" href="#concepts-to-cover-1" id="concepts-to-cover-1"><h2>Concepts To Cover</h2></a>
<ul>
<li>the difference between psuedo random and cryptographically random numbers</li>
<li>the avalanche effect in hash functions</li>
<li>verifiable content addressing via hashes</li>
<li>rate limiting to prevent brute force attacks</li>
<li>true randomness by rolling dice or augmenting the passphrase</li>
<li>length &gt; complexity and computation time in big O notation =&gt; show why using larger primes is essential as well as how to determine the theoretic/computational security guarantees of a protocol (but how large of computations can the Rust Playground or mdBook handle?)</li>
<li>2FA &gt; security questions (or randomized answers to security questions)</li>
<li>digital signatures: for content addressing/verification as well as 1 way hash functions</li>
<li>it would be cool to actually have a gif/video of an avalanche to emphasize that while you know <strong>something</strong> happened, you can't which piece of snow on the ground came from which place on the mountain because it's all jumbled up (and would be uniquely for every new avalanche)</li>
</ul>
<p><br></p>
<a class="header" href="#story-arc-1" id="story-arc-1"><h2>Story Arc</h2></a>
<a class="header" href="#alice-and-bob-strike-back" id="alice-and-bob-strike-back"><h3>Alice and Bob strike back!</h3></a>
<a class="header" href="#p1-learning-the-hard-way" id="p1-learning-the-hard-way"><h3>P1) Learning The Hard Way</h3></a>
<ul>
<li>Alice and Bob explore best practices in crypto such as: don't roll your own crypto, use audited code and protocols, don't reuse passphrases or keys, don't let other people hold/control your keys, don't use a centralized processor to manage security or data access.</li>
</ul>
<a class="header" href="#p2-sweet-revenge" id="p2-sweet-revenge"><h3>P2) Sweet Revenge</h3></a>
<ul>
<li>They use Alice's little brother as a honeypot to catch Eve red handed manipulating the old codes</li>
</ul>
<a class="header" href="#p3-survival-of-the-fittest" id="p3-survival-of-the-fittest"><h3>P3) Survival Of The Fittest</h3></a>
<ul>
<li>They impliment a newer better protocol impressing all the CS professors who used to laugh at them, and Eve is banned from learning any more trickery in the computer lab. (might be better if she was permanently vanquished or converted to an ally than just being censored?)</li>
</ul>
<p><br></p>
<p align="center">
  <img src="aftermath.png">
</p>
<p><br></p>
<a class="header" href="#production-ready-libraries" id="production-ready-libraries"><h2>Production Ready Libraries</h2></a>
<p>Rust Crypto</p>
<ul>
<li>https://github.com/RustCrypto</li>
</ul>
<p>Web Cryptography API (javascript)</p>
<ul>
<li>https://www.w3.org/TR/WebCryptoAPI/</li>
<li>https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API</li>
</ul>
<p><br></p>
<a class="header" href="#general-resources" id="general-resources"><h2>General Resources</h2></a>
<p>Awesome Cryptography</p>
<ul>
<li>https://github.com/sobolevn/awesome-cryptography#readme</li>
</ul>
<p>Awesome Cryptoeconomics L4</p>
<ul>
<li>https://github.com/L4ventures/awesome-cryptoeconomics</li>
</ul>
<p>Awesome Cryptoeconomics jpantunes</p>
<ul>
<li>https://github.com/jpantunes/awesome-cryptoeconomics</li>
</ul>
<p><br></p>
<a class="header" href="#glossary" id="glossary"><h1>Glossary</h1></a>
<p>A catchall for concepts and resources related to crypto, economics, and cryptoeconomics.</p>
<p>search #! for open questions/problems</p>
<p>In addition to abstract definitions, it would be great to add:</p>
<ul>
<li>examples and common usecases for each thing</li>
<li>reference links to dive deeper</li>
</ul>
<a class="header" href="#computer-science" id="computer-science"><h1>Computer Science</h1></a>
<ul>
<li>state</li>
<li>nodes</li>
<li>graphs</li>
<li>randomness/entropy</li>
<li>psuedo anonymity and data correlation</li>
<li>privacy vs anonymity</li>
<li>etc‚Ä¶</li>
</ul>
<a class="header" href="#ledger" id="ledger"><h3>Ledger:</h3></a>
<p>A record of information.</p>
<a class="header" href="#state" id="state"><h3>State:</h3></a>
<p>A snapshot of a ledger at a particular moment in time.</p>
<a class="header" href="#distributed-ledger" id="distributed-ledger"><h3>Distributed Ledger:</h3></a>
<p>A ledger that is distributed amongst multiple parties who agree on it's state.</p>
<a class="header" href="#state-transition" id="state-transition"><h3>State transition:</h3></a>
<p>A function that takes the state then transforms it into another state.</p>
<a class="header" href="#consensus" id="consensus"><h3>Consensus:</h3></a>
<p>The act of reaching agreement between parties.</p>
<a class="header" href="#game-theory" id="game-theory"><h1>Game Theory:</h1></a>
<ul>
<li>equilibrium</li>
<li>Nash equilibrium</li>
<li>perto optimal</li>
<li>prisoners dilemma</li>
<li>iterated v finite games</li>
</ul>
<a class="header" href="#crypto" id="crypto"><h1>Crypto</h1></a>
<ul>
<li>verification: hashes, merkle trees, commitment schemes</li>
<li>security: digital signatures (pub/private key encryption)</li>
</ul>
<a class="header" href="#cryptography" id="cryptography"><h3>Cryptography:</h3></a>
<p>Deals with making communications secure and verifiable.</p>
<a class="header" href="#cryptoanalysis" id="cryptoanalysis"><h3>Cryptoanalysis:</h3></a>
<p>Deals with breaking ciphertext, that is, recovering plaintext without knowing the key.</p>
<a class="header" href="#cryptology" id="cryptology"><h3>Cryptology:</h3></a>
<p>A branch of mathematics which deals with both cryptography and cryptoanalysis.</p>
<a class="header" href="#hashes" id="hashes"><h3>Hashes</h3></a>
<ul>
<li>Hashes allow us to fingerprint some information with a short name. Anyone can take the hash of some file and save it. You can then use this hash to prove to others that you (a) have seen the file before (b) no one has tampered with the file.</li>
<li>a secure hash has several properties: avalanche effect, preimage resistance, etc...</li>
</ul>
<p>For example, the Bitcoin whitepaper has a certain hash. A while ago the Bitcoin Core foundation wanted to change the official URL of the whitepaper. They wanted it to point to an ‚Äúimproved‚Äù version of this whitepaper that Satoshi wrote. Since they control the bitcoin.org URL they can do this. A long time ago someone with foresight saved the hash of this whitepaper in the Blockchain. This means it‚Äôs very easy to see if someone well-intentional changes the original file.ered with the file.</p>
<a class="header" href="#preimage" id="preimage"><h3>Preimage:</h3></a>
<p>the input to the hash function
<br>A is a preimage of B if B = hash(A)</p>
<a class="header" href="#digesthash" id="digesthash"><h3>Digest/Hash:</h3></a>
<p>the output of the hash function</p>
<a class="header" href="#preimage-resistance" id="preimage-resistance"><h3>Preimage Resistance:</h3></a>
<p>it is computationally infeasible to find the input to a hash funciton given it's output.</p>
<a class="header" href="#collision-resistance" id="collision-resistance"><h3>Collision Resistance:</h3></a>
<p>a hash funciton produces a unique output for every unique input. A &quot;collision&quot; would be if H(a) = H(b).</p>
<a class="header" href="#encryption" id="encryption"><h3>Encryption:</h3></a>
<p>The process of turning a clear-text message (often called Plaintext) into a data stream which looks like a meaningless and random sequence of bits (called ciphertext). The process of turning ciphertext back into plaintext is called decryption.</p>
<a class="header" href="#symmetric-key-encryption" id="symmetric-key-encryption"><h3>Symmetric Key Encryption:</h3></a>
<p>Use the same key for encryption and decryption. These algorithms require that both the sender and receiver agree on a key before they can exchange messages securely.</p>
<a class="header" href="#public-key-algorithms-also-known-as-asymmetric-algorithms" id="public-key-algorithms-also-known-as-asymmetric-algorithms"><h3>Public-key algorithms (also known as asymmetric algorithms):</h3></a>
<p>Use two different keys (a key pair) for encryption and decryption. The keys in a key pair are mathematically related, but it is computationally infeasible to deduce one key from the other. These algorithms are called ‚Äúpublic-key‚Äù because the encryption key can be made public. Anyone can use the public key to encrypt a message, but only the owner of the corresponding private key can decrypt it.</p>
<a class="header" href="#public-key" id="public-key"><h3>Public Key:</h3></a>
<p>these can be public facing and are often like an address that anyone can send information to.</p>
<a class="header" href="#private-key" id="private-key"><h3>Private Key:</h3></a>
<p>every public address has a unique private key. Whoever controls the private key controls the address. While anyone can send data to the public key, only the private key can autorize data to be sent out from the address. This means that you can prove to others that you wrote a certain message. For example, that you authorized a transaction, voted, or posted some content at a certain time before anyone else.</p>
<a class="header" href="#commitment-scheme" id="commitment-scheme"><h3>Commitment Scheme</h3></a>
<p>a cryptographic primitive that allows one to commit to a chosen value (or chosen statement) while keeping it hidden to others, with the ability to reveal the committed value later.[1] Commitment schemes are designed so that a party cannot change the value or statement after they have committed to it: that is, commitment schemes are binding. Commitment schemes have important applications in a number of cryptographic protocolsincluding secure coin flipping, zero-knowledge proofs, and secure computation.</p>
<p>A way to visualize a commitment scheme is to think of a sender as putting a message in a locked box, and giving the box to a receiver. The message in the box is hidden from the receiver, who cannot open the lock themselves. Since the receiver has the box, the message inside cannot be changed‚Äîmerely revealed if the sender chooses to give them the key at some later time.</p>
<p>Interactions in a commitment scheme take place in two phases:</p>
<ul>
<li>the commit phase during which a value is chosen and specified</li>
<li>the reveal phase during which the value is revealed and checked</li>
</ul>
<a class="header" href="#economics" id="economics"><h1>Economics:</h1></a>
<ul>
<li>incentives (rewards/punishments, slashing, block rewards, etc‚Ä¶)</li>
<li>types of value (financial rewards, reputation, voting power, privilege =&gt; the right to make a certain decision)</li>
</ul>
<a class="header" href="#bitcoin-example" id="bitcoin-example"><h3>Bitcoin Example:</h3></a>
<p>In Bitcoin, when a miner finds a block they get a direct reward of some Bitcoin. More generally we can call this a token reward. The miner also has the privilege to decide which transactions to include in that block, and they generally choose transactions with the highest fees attached.</p>
<a class="header" href="#pos-example" id="pos-example"><h3>PoS Example:</h3></a>
<p>In proof of stake nodes put down a security deposit, but if they behave badly this deposit gets taken away.</p>
<a class="header" href="#blockchain-specific-stuff" id="blockchain-specific-stuff"><h1>Blockchain Specific Stuff</h1></a>
<ul>
<li>checkpoint</li>
<li>epoch</li>
<li>finality</li>
<li>fork choice rule</li>
<li>proof of work</li>
<li>proof of stake</li>
</ul>
<a class="header" href="#checkpoint-ethereum" id="checkpoint-ethereum"><h3>Checkpoint (Ethereum):</h3></a>
<p>the last block under consideration for finality for a given epoch.</p>
<a class="header" href="#epoch-ethereum" id="epoch-ethereum"><h3>Epoch (Ethereum):</h3></a>
<p>a length of time measured in blocks. As of today's specs, an epoch is 100 blocks and spans between two checkpoints.</p>
<a class="header" href="#finality" id="finality"><h3>Finality:</h3></a>
<p>The point at which a block has been decided upon by a client to never revert. In PoW rather there is no finality, only deeper block confirmations.</p>
<a class="header" href="#fork-choice-rule" id="fork-choice-rule"><h3>Fork choice rule:</h3></a>
<p>the rules for traversing a dag in order to find the canonical chain.</p>
<a class="header" href="#epoch-ethereum-1" id="epoch-ethereum-1"><h3>Epoch (Ethereum):</h3></a>
<p>a length of time measured in blocks. As of today‚Äôs specs, an epoch is 100 blocks and spans between two checkpoints.</p>
<a class="header" href="#finality-1" id="finality-1"><h3>Finality:</h3></a>
<p>The point at which a block has been decided upon by a client to never revert. In PoW rather there is no finality, only deeper block confirmations.</p>
<a class="header" href="#centralized-nodes" id="centralized-nodes"><h3>Centralized nodes:</h3></a>
<p>One node controls the network. Fault tolerance is low.</p>
<a class="header" href="#distributed-nodes" id="distributed-nodes"><h3>Distributed nodes:</h3></a>
<a class="header" href="#decentralized-nodes" id="decentralized-nodes"><h3>Decentralized nodes:</h3></a>
<a class="header" href="#decentralized-consensus-consensus-arrived-from-many-parties" id="decentralized-consensus-consensus-arrived-from-many-parties"><h3>Decentralized Consensus: Consensus arrived from many parties</h3></a>
<a class="header" href="#nonce" id="nonce"><h3>Nonce:</h3></a>
<a class="header" href="#central-operator" id="central-operator"><h3>Central Operator:</h3></a>
<a class="header" href="#censorship-resistance" id="censorship-resistance"><h3>Censorship Resistance:</h3></a>
<a class="header" href="#reorganizationreorg" id="reorganizationreorg"><h3>Reorganization/Reorg:</h3></a>
<a class="header" href="#blocks" id="blocks"><h3>Blocks:</h3></a>
<p>Groups of transactions and other their associated meta data that are cryptographically signed and appended to a chain of such blocks.</p>
<a class="header" href="#minnersvalidators" id="minnersvalidators"><h3>Minners/validators:</h3></a>
<p>Decides on the order of transaction by voting for it through different cryptographic protocols such proof of work or proof of stake.</p>
<a class="header" href="#selfish-mining" id="selfish-mining"><h3>Selfish mining:</h3></a>
<p>The act of mining blocks ahead of the network without broadcasting the blocks.</p>
<a class="header" href="#porous-boundaries" id="porous-boundaries"><h3>Porous Boundaries:</h3></a>
<p>Protocols where the users of the protocol can become miners and validators.</p>
<a class="header" href="#rigid-boundaries" id="rigid-boundaries"><h3>Rigid Boundaries:</h3></a>
<p>Protocols where users of the protocol can NOT become validators/minners</p>
<a class="header" href="#checkpoint-ethereum-1" id="checkpoint-ethereum-1"><h3>Checkpoint (Ethereum):</h3></a>
<p>the last block under consideration for finality for a given epoch.</p>
<a class="header" href="#rate-limiting" id="rate-limiting"><h3>Rate limiting:</h3></a>
<a class="header" href="#verifiable-delay-functions" id="verifiable-delay-functions"><h3>Verifiable delay functions:</h3></a>
<a class="header" href="#randomness-beacon" id="randomness-beacon"><h3>Randomness beacon:</h3></a>
<p>A source of randomness that is cryptographically secure.
#! HOW? offchain oracle services via quantum measurements, radioactive decay, or lavalamps?</p>
<a class="header" href="#burning" id="burning"><h3>Burning:</h3></a>
<p>The act of destroying a crypto (often by sending to an irretrievable address). Assuming demand stays the same, this reduces supply and thus increases the value per token.</p>
<a class="header" href="#meta-combining-tools-to-make-secure-cryptoeconomic-mechanisms" id="meta-combining-tools-to-make-secure-cryptoeconomic-mechanisms"><h1>Meta: combining tools to make secure cryptoeconomic mechanisms</h1></a>
<ul>
<li>protocol level security (aligning incentives to ideally make the perto optimal outcome also the dominant strategy with no incentive to deviate (Nash)): PoW, PoS</li>
<li>incentives in iterative games vs finite games with reputation and compounding value</li>
<li>where we need security vs where it‚Äôs nice to have (esp relevant for plasma chains where only account balances/tokens need to be stored on the parent chain)</li>
<li>voting (QV, correlated slashing, commit/reveal schemes)</li>
<li>attacks and defenses</li>
</ul>
<p>Blockchain: a merklized linked list of blocks where each new block commits a group of transactions/data to the previous one via a hash function, forming a chain of blocks. In order to commit a group of transactions/data, you need to solve a very very complicated puzzle. If one were to try to retroactively change the data in a previous block, you would need quite a bit of compute power to solve all the puzzles between the current block and the block being changed. Considering that all the computers mining blocks (solving puzzles and committing information) on the bitcoin blockchain vastly surpass the compute power of all the world's supercomputers combined... this seems unlikely. Not impossible, but unlikely.</p>
<ul>
<li>hashes verify the data's authenticity</li>
<li>public/private key crypto secures your account</li>
<li>economic incentives reward people for solving puzzles to secure the network and commit data</li>
</ul>
<p>#! this needs to be expanded</p>
<a class="header" href="#other-stuff" id="other-stuff"><h3>Other Stuff:</h3></a>
<ul>
<li>convergence (of blocks, towards a shared truth)</li>
<li>validity (ensure you have the funds and you signed transaction)</li>
<li>data availability (you can inspect full historical data)</li>
<li>non-censorship (if you pay a fee your transaction gets included)</li>
<li>P+epsilon attacks (taking over a network by bribing participants and paying $1)</li>
<li>Vickrey auctions (efficient price allocation with private information)</li>
<li>Fault attribution (punishing bad behavior when you don‚Äôt know exactly what happened)</li>
<li>Dominant assurance contracts (making public goods financing a self-interest)</li>
<li>Cryptoeconomic security margin (how much do you have to pay to take over a network)</li>
</ul>
<p>#! Add bitcoin as a cannonical example of cryptoeconomics in action? (https://discuss.status.im/t/cryptoeconomics-what-is-it-about-and-why-should-you-care/78)</p>
<a class="header" href="#discouragement-attack" id="discouragement-attack"><h3>Discouragement attack:</h3></a>
<p>an attack where an adversary burns resources to decrease payoff for others in the network.</p>
<a class="header" href="#fork-choice-rule-1" id="fork-choice-rule-1"><h3>Fork choice rule:</h3></a>
<p>the rules for traversing a dag in order to find the canonical chain.</p>
<a class="header" href="#pow-proof-of-work" id="pow-proof-of-work"><h3>PoW (Proof of Work):</h3></a>
<p>a consensus mechanism where resources are burned to verify transactions.</p>
<a class="header" href="#pos-proof-of-stake" id="pos-proof-of-stake"><h3>PoS (Proof of Stake):</h3></a>
<p>a consensus mechanism where validators stake a number of tokens proportional to their voting power in finalizing blocks.</p>
<p>#! update this to the latest version and find out what it's actually called
PoS Consensus
if a validator node commits an error, it gets penalized an amount proportional to the number of other nodes that have committed an error around the same time. This incentivizes nodes to set themselves up in such a way that their failure rate is maximally uncorrelated with everyone else‚Äôs failure rate, reducing the chance that many nodes fail at the same time and threaten to the blockchain‚Äôs integrity</p>
<a class="header" href="#assurance-contract" id="assurance-contract"><h3>Assurance Contract:</h3></a>
<p>a system where some public good is funded by giving anyone the opportunity to pledge money, and only collecting the pledges if the total amount pledged exceeds some threshold.</p>
<a class="header" href="#proof-of-stake-conditional-hashcash" id="proof-of-stake-conditional-hashcash"><h3>Proof of stake conditional hashcash:</h3></a>
<p>when you commit to something (like sending someone an email), you stake a small value along with that commitment and give the receiver the opportunity to burn that stake if they so choose (in this case if they view your message as spam).</p>
<a class="header" href="#common-misconceptions" id="common-misconceptions"><h1>Common Misconceptions</h1></a>
<a class="header" href="#onion-hashing" id="onion-hashing"><h3>Onion hashing:</h3></a>
<ul>
<li>Using the layers of hashing (ie finding the hash of a hash of a hash) to generate a source of randomness.
#! This is only a secure form of randomness if the input to the original hash is a cryptographically secure form of entropy. Otherwise it's just psuedorandom because hash functions are deterministic. (mostly sure)</li>
</ul>
<a class="header" href="#small-game-fallacies" id="small-game-fallacies"><h3>Small Game Fallacies</h3></a>
<ul>
<li>https://unenumerated.blogspot.com/2015/05/small-game-fallacies.html
When analyzing cryptoeconomics it's VERY important to think about opportunity costs OUTSIDE of the mechanism</li>
<li>example: if I lock up $X staking ETH, the rate of return/interest has to be MORE than I could get from other investments, including those outside of the crypto world like bonds. This is important otherwise the only participation will be due to altruism, which is a weak strategy.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        
        <script src="ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
        
        

    </body>
</html>
